\documentclass[11pt]{article}
\usepackage{amssymb,amsmath,tikz-cd,xspace, natbib}
\usepackage[T1]{fontenc}

\begin{document}
\input{tex.macros}

\title{Category theory notes}
\maketitle

Please see the Readme file for motivation and context. Right now the document only touches
on and motivates what seem to be the key ideas pushed by the basic category theory
textbooks I've been reading.

\section{Bundles}\label{bundlesec}
We're used to thinking in terms of sets comprising atomic elements, but
most mathematical objects are a bundle of parts:

\items{
    \item {\em Magma}: A set $S$ and a function $f:S\to S$.
    \item {\em Preorder}: A set $S$ and a binary relation $\leq$. (See flash cards for
the formal definition)
    \item {\em Graph}: A collection $(V, A, src, tgt)$:
    \items{
        \item $V$ a set (vertices)
        \item $A$ a set (arrows)
        \item $src:A\to V$ a function giving arrow heads
        \item $tgt:A\to V$ a function giving arrow tails
    }
}

Authors who write in object-oriented programming languages will recognize this
use of {\em object} to mean a structure of elements, some of which could be verbs.

\subsection{Those object-function pairs}
These objects often have constraints attached, and we name the pair $(S, f)$ depending on
how restrictive we want to be about the function:

\items{
    \item {\em Magma}: A set $S$ and a function $f:S\to S$.
    \item {\em Semigroup}: A magma where $f$ is associative: $f(a, f(b,c))=f(f(a, b),c)$.
    \item {\em Monoid}: A semigroup with an identity element, $f(id)=id$.
    \item {\em Group}: A monoid where every element has an inverse: $\forall x\in S$, $\exists x_{inv}$ $\ni f(x, x_{inv}) = id$.
}

Associativity and identity are going to be part of the definition of categories,
so there won't be a lot of discussion of things on the list before monoids.
Groups are reserved for contexts where the sense of reversibility or symmetry make sense.

\section{Leveling up}\label{levelsec}

A function $f:A\to B$, aka a mapping, assigns a value to all of the elements in $A$ to
some element(s) in $B$. Note that if $A=\emptyset$ then you still have a function, though
it is vacuous.

We can draw this function via arrows, maybe

\begin{center}
\begin{tikzcd}[row sep=tiny]
    a_1 \ar[rd] & b_1\\
    a_2 \ar[r] & b_2\\
    a_3 \ar[r] & b_3
\end{tikzcd}
\end{center}

Here, the nodes in the graph are single elements in the sets, and the arrows describing
where each element goes.

The function notation $f:A\to B$ is itself a tiny graph. If there were also a function
$g:C\to B$, we could construct a diagram that looks like the above element-by-element graph:

\Comdiag{A \ar[r,"f"]\& B\\
C \ar[ru, "g"] 
}
So we've gone up a level: each arrow could be cracked open to reveal a bundle of arrows,
its own element-by-element diagram like the one we had above. A closed function $f:A\to A$ maps to its
own set, so we'd draw it as a loop:

\Comdiag{A\ar[loop right]}

We've zoomed out from nodes being elements to being sets of elements; the natural next
step is to generalize the arrows to being sets of arrows. Consider the collections of all
mappings of the form $f:A\to B$. In the first diagram with three elements in $A$ and
three in $B$, the collection could have nine elements. The full set of these mappings (aka
homomorphisms) is $\Hom{set}(A, B)$. But our collection doesn't have to be the whole set;
it's our choice. Sets use capitals and their elements lower case $(s\in S)$, so let
the collection of lower-case functions be $F$; we now have

\Comdiag{A \ar[r,"F"]\& B}

I think of $F$ as a bundle of quivering wires, each with its own power. If this were anime
they'd be tentacles. But there is indeed a lot of power there: with \Re\ representing the
real numbers, we can now summarize all real one-variable functions with the diagram 
\Comdiag{\Re\ar[loop right]}

This is the level at which category theory speaks.

All these diagrams look alike, so it's worth checking where we are in the pyramid:
\items{
    \item Node is a single element; arrow represents a mapping from one element to another
    \item Node is a set; arrow represents a set of mappings from one set to another---a function
    \item Node is a set; arrow represents a set of functions from one set to another
}

\subsection{Category characteristics}
See the flash cards for the formalization, but less formally,
a category is a bundle of elements as per the end of that chain: some sets
(referred to as the objects in the category), and the bundles of mappings between some
or all of them.  It also has a composition function, so given $F:A\to B$
and $G:B\to C$, then $G\circ F:A\to C$ is a thing. I haven't yet seen this composition
function be anything but the obvious $g(f(a))$, but I suppose this leaves the door
open for creativity, and clarifies that these chains are not themselves in the set of
functors defining the system (unless you want them to be).

A proper category also has some
constraining characteristics. First, we don't have to include the full set of mappings from a
collection $A\to A$, which as above may cover vast territory, but we do have to include
the identity morphism mapping every element of an object to itself. Second, the composition
is associative and correctly handles the identity mappings.

Having these additional rules means we can't just throw out any old set of nodes and edges
and call it a category, but given that the composition function of {\em apply $f$, then
apply $g$ to whatever you got out of $f$} works fine, and that appending identity
morphisms is so easy to do that people usually don't even bother drawing the loops in,
whatever diagram of sets and sets of functions you write down probably fits the rules.
Just as a group behaves differently from a monoid because of the additional structure,
the additional formality will allow us to say more below.

\subsection{An example}
The nodes in all the graphs above could be anything, including the bundles of elements from
Section \ref{bundlesec}.

Let ${\bf PrO}$ be the set of all preorders and ${\bf Graph}$ be the set of graphs. A
single preorder is a set of relations of the form $a \leq b$, and we could replace the $\leq$
symbol with an arrow, and $a\leftarrow b$ is already another little graph. 
Doing the same for all of the elements in the preorder would generate a list of
$($nodes, arrows, starting points, end points$)$ in ${\bf Graph}$.
That is, $f:{\bf PrO}\to {\bf Graph}$ makes as much sense as $f:\Re \to \Re$. Bundle up
a set of such functions into a functor $F$, and we have a category diagram with two
objects and homomorphisms between them.

Categories are themselves a bundle like the ones from Section \ref{bundlesec}: a set
of objects paired with a set of morphisms between them. So they too could be a node in
one of the above diagrams, so we have the category of categories.\footnote{Authors refer
to {\em the} category of categories, and I'm unclear whether an alternative cat-of-cats
exists or what it would look like, so we may be at the top here---there's no category of
categories of categories.}

Things are already getting self-referential: ${\bf PrO}\to {\bf Graph}$ is a node-and-arrow
graph representing an operation involving the set of node-and-arrow graphs. For the 
category of categories, ${\bf Cat}$, we can show that ${\bf Cat}\to {\bf Graph}$, thus
drawing a graph for the category \{${\bf Cat}, {\bf Graph}$\} to represent how categories and graphs relate.
Mathematicians love this stuff.

\section{Where commuting gets us} It's already potentially interesting that we can
express mappings between different concepts like orderings and graphs, but things don't get
interesting until we have multiple paths to the same place.


For example,
\citet{spivak:category} describes multisets as sets of elements $E$ with a set $B$ of
symbol names, and a map $\pi:E\to B$. We may have another set of elements and symbols in
another context, maybe a corpus in another language, so we'll need an element mapping
$f_1:E\to E'$ and a symbol mapping $f_2:B\to B'$.

Here is a diagram
from the flash card ({\em qv}) on mapping a multiset $(E, B, \pi)$ to another:
\Comdiag{E \ar[r, "f_1"] \ar[d, "\pi"'] \& E'  \ar[d, "\pi'"]\\
        B \ar[r, "f_2"'] \& B'
    }

The dictionary definition of {\em
commute} is {\em to exchange}; in math circles, {\em commutativity} typically refers to
reversing the order of things, like $x+y = y+x$. In this case, we can 
get from the original element set to the primed symbol set in two ways:
either apply the symbol map $\pi$ first to get to $B$ and then step from the unprimed to
primed corpus ($f_2\circ\pi(e)$), or first step to the primed corpus via $f_1$ and then
map from $E$ to $B$ on that side ($\pi\circ f_1(e)$).

When are both routes identical? This is often an interesting question in its own right.
When each arrow is a plain function, a lot of nontrivial statements take this form.

This example was at the set level, but one could do the same at the category level.
If there is a mapping from one world to another where (apply internal function, then jump)
produces the same outcome as (jump, then apply internal function), we call the jump across
categories a {\em natural transformation}.

Further, these diagrams chain together:

\Comdiag{E \ar[r, "f_1"] \ar[d, "\pi"'] \& E'   \ar[r, "f_3"] \ar[d, "\pi'"] \& E'' \ar[d, "\pi''"]\\
        B \ar[r, "f_2"'] \& B' \ar[r, "f_4"'] \&B''
    }

It is self-evident that if the left square and the right square commute, than any flow
from upper left to lower right will be equivalent. This becomes especially interesting
when we have mappings across different contexts: if we can map from multisets to preorders
and preorders to graphs, we just got a multiset-to-graph generator for free.

\subsection{Universal properties}
Consider the cross product of two sets, $A\times B$. There is an obvious mapping from
$A\times B \to A$---just drop the $B$ part---and $A\times B \to B$. The shape of this as a
diagram, with $\pi_1$ and $\pi_2$ being the {\em drop one part} functions:

\Comdiag{
        \& X\times Y \ar[dl,"\pi_1"'] \ar[dr,"\pi_2"] \\
    X \& \& Y \\
}

This is called a span and can also be turned into a little inline diagram as
$X \leftarrow (X\times Y) \rightarrow Y$.
Of course, there are other things we could put at the top of the fork, maybe some other
set $A$ that maps both ways: $X \leftarrow A \rightarrow Y$.
But $X\times Y$ is unique in this capacity because every $A$ and its span can be expressed
via a morphism to $X\times Y$. Here is the commutative diagram:

 \Comdiag{
        \& X\times Y \ar[dl,"\pi_1"'] \ar[dr,"\pi_2"] \\
    X \& \& Y \\
    \& A \ar[ul, "\forall f"] \ar[ur, "\forall g"'] \ar[uu, dashrightarrow, "f\times g"]
    }

For any $f$ and $g$, you could go the short way to map $A$ to $X$ or $Y$, but you are
guaranteed that there is also a pair of mappings $A\to (X\times Y) \to X$ and $A\to
(X\times Y) \to Y$ that are
the long commute to the same point.  Put differently, you can have an arbitrary
span composed of any object and mappings iff you can write down a map $A\to (X\times
Y)$. That any span can be expressed by going through $X\times Y$ makes that object a
sort of universal spanner.

One can generate other universal properties for other common diagrams and operations.

\nocite{awodey:category}
\nocite{riehl:category}
\bibliographystyle{plainnat}
\bibliography{cat_notes}

\end{document}
